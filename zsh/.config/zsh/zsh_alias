# Show bottom up hierarchy of folders of the stack except the current folder
alias d='dirs -v | tail +2'
# Type a number and enter to go to that position in the folder stack
for index ({1..9}) alias "$index"="cd +${index}"; unset index

# Show folder hierarchy from bottom to root and let jump to any of that folders
# https://github.com/junegunn/fzf/wiki/Examples#changing-directory
alias paths='echo $PATH | sed "s/:/\n/g" | nl | tac'

alias szsh='source ~/.config/zsh/.zshrc'

# Always preserve the environment with sudo
alias sudo='sudo -E'

# Remove $ symbol pasted in front of the command
alias '$'=''

# Improve mobility between folders {{{
# Register all folders in the zoxide database
alias b='cd ..'
alias cd='z'
alias .='cd ..'
alias ..='cd ../..'
# alias -g ...='../..'
# alias -g ....='../../..'
# alias -g .....='../../../..'
alias -- -='cd -'
# }}}

alias md='mkdir -pv'
alias mkdir='mkdir -pv'

alias pgrep='pgrep -f'
alias pkill='pkill -9 -f'
alias k='\pkill -9 -f'

# global pipe aliases
# Remove annoying xclip: J:=__: No such file or directory when expanding globalalias
# https://github.com/Aloxaf/fzf-tab/issues/109
# alias -g B='| bat'
# alias -g C='| xclip -selection clipboard'
# alias -g G='| grep --ignore-case'
# alias -g GE='| grep --extended-regexp'
# alias -g GF='| grep --fixed-strings'
# alias -g GP='| grep --perl-regexp'
# alias -g L='| less'
# alias -g V='| nvim -R -'
# alias -g W='| wc'

# Always use float by default
alias bc='bc -l'
alias g=git
eval "$(gh completion --shell zsh)"

# alias ls='ls --color=always --almost-all --human-readable --format=long --classify'
# alias l='ls'
alias ls='exa --sort .name --color=always --long --links --group --git --icons --classify --extended --ignore-glob=node_modules --all'
alias l='ls'
alias tree='ll'
# alias tree='tree -h -u -g -F -D -C -I "node_modules"'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

alias ps='ps -o uname,pid,ppid,tty=TTY,stime,time,pcpu,pmem,cmd --forest'

alias x='chmod +x'

# rsync
alias rs='rsync --archive --compress --info=progress2 --human-readable --update --delete'

alias sshfs="sshfs -o allow_other,default_permissions,follow_symlinks,kernel_cache,reconnect,ServerAliveInterval=60,ServerAliveCountMax=3"

# systemctl
alias sstatus='sudo systemctl status'
alias srestart='sudo systemctl restart'
alias sstart='sudo systemctl start'
alias senable='sudo systemctl enable'
alias sdisable='sudo systemctl disable'
alias sstop='sudo systemctl stop'

alias a='ansible'
alias ap='ansible-playbook'

alias vbm=VBoxManage

# Never use vi
alias vi='nvim'
alias vim='nvim'
alias n='nvim'

alias nd='nvim -d -c "set nofoldenable"'
# alias h='history' # Use ctrl-r instead
# Lists the ten most used commands.
alias hs="\history 0 | awk '{print \$2}' | sort | uniq -c | sort -n -r | bat --number"
alias du='du -h'
alias dus='diskus'
alias df='df -h'
alias free='free -h'
alias j="jobs -l"
alias ncdu='ncdu --color dark'
alias news='newsboat'
alias fm='vifm'
alias re='massren'
alias T='tail -F'
alias nano='micro'
alias less='bat'
alias more='bat'
alias m='man'

# rg with grep -r behaviour
alias ag='ag --smart-case --ignore node_modules'
alias s='rg --smart-case --no-heading --with-filename --glob '"'"'!{node_modules}'"'"
alias sn='rg --smart-case --no-heading --with-filename --no-ignore --hidden --glob '"'"'!{node_modules}'"'"

# fd with find behaviour
alias f='fd --exclude node_modules'

# Safe ops. Ask the user before doing anything destructive.
# Move rm files to the trash using trash-cli
alias rm='trash'
alias mv="mv -i"
alias cp="cp -ri"
alias ln="ln -i"
unsetopt CLOBBER # Do not overwrite existing files with > and >>. # Use >! and >>! to bypass.

alias ydl='youtube-dl --output "%(title)s.%(ext)s"'
alias ydl3='youtube-dl --output "%(title)s.%(ext)s" --extract-audio --audio-format mp3'
alias ydl4='youtube-dl --output "%(title)s.%(ext)s" --format mp4'


# Correct previous command
export THEFUCK_EXCLUDE_RULES=fix_file # Fix https://github.com/nvbn/thefuck/issues/1153
eval $(thefuck --alias)
alias fk='fuck --yes'

# Alias for rc files
alias alacrittyrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/alacritty/alacritty.yml) && popd'
alias gitrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/git/config) && popd'
alias i3rc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/i3/config) && popd'
alias mimerc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/mimeapps.list) && popd'
alias newsboatrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/newsboat/config) && popd'
alias nvimrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/nvim/init.lua) && popd'
alias rofirc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/rofi/config.rasi) && popd'
alias sshrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.ssh/config) && popd'
alias tigrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/tig/config) && popd'
alias tmuxrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.tmux.conf) && popd'
alias vifmrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/vifm/vifmrc) && popd'
alias vimrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.vimrc) && popd'
alias zshrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/zsh/.zshrc) && popd'
alias tridactylrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/tridactyl/tridactylrc) && popd'
alias dunstrc='pushd ~/.dotfiles && nvim $(readlink -f ~/.config/dunst/dunstrc) && popd'

# Alias for pacman
alias pu="sudo pacman -Syyu --noconfirm"
alias pd="sudo pacman -Syyuw --noconfirm"
alias pmu="sudo pacman-mirrors --api --protocols all --set-branch stable --fasttrack && sudo pacman -Syy"
alias pfk="sudo pacman-key --refresh-keys && sudo pacman-key --populate archlinux manjaro"
alias pc="sudo pacman -Scc"
alias pi="sudo pacman -S"
# Alias for paru
alias pua="paru --noconfirm -Syyu"

# Alias for pip
alias pipu="pip list --outdated --format=freeze | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install -U"

# https://www.cyberciti.biz/faq/how-to-find-my-public-ip-address-from-command-line-on-a-linux/
alias myip="dig +short myip.opendns.com @resolver1.opendns.com"

alias tp=btop
alias htop=btop
alias top=btop

alias lc='libreoffice --calc'

alias loc='scc --sort lines'
alias scc='scc --sort lines'
alias tokei='tokei --sort lines'

alias rup="rustup"
alias jup="juliaup"


alias rsl='rustscan --addresses 192.168.1.0/24 --ulimit 5000 --ports 22 --greppable'

# rsync alias
alias rsync='rsync --archive --hard-links --compress --human-readable --info=progress2'
# }}}

# get command {{{{
# https://github.com/zimfw/zimfw/blob/master/modules/utility/init.zsh
if [ -x "$(command -v "aria2c")" ]; then
  alias get='aria2c --max-connection-per-server=5 --continue'
elif [ -x "$(command -v "axel")" ]; then
  alias get='axel --num-connections=5 --alternate'
elif [ -x "$(command -v "wget")" ]; then
  alias get='wget --continue --progress=bar --timestamping'
elif [ -x "$(command -v "curl")" ]; then
  alias get='curl --continue-at - --location --progress-bar --remote-name --remote-time'
fi
# }}}


# A faster way to navigate the filesystem
eval "$(zoxide init zsh)"

