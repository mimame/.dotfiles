# Starship Configuration - Optimized for Clarity and Performance
# Using Dracula palette and Nerd Font icons

"$schema" = 'https://starship.rs/config-schema.json'

# --- Format Configuration ---
# Identity first, then context, then action area on second line
format = """
$username$hostname$directory$vcsh$git_branch$git_commit$git_state$git_metrics$git_status$hg_branch$docker_context$package$bun$c$cmake$cobol$daml$dart$deno$dotnet$elixir$elm$erlang$golang$haskell$haxe$helm$java$julia$kotlin$lua$nim$nodejs$ocaml$opa$perl$php$pulumi$purescript$python$raku$rlang$red$ruby$rust$scala$swift$terraform$vlang$vagrant$zig$buf$guix_shell$nix_shell$conda$meson$spack$aws$gcloud$openstack$azure$env_var$crystal$custom$sudo$os$memory_usage
$jobs$cmd_duration$battery$time$status$container$shell$character"""

right_format = ''
continuation_prompt = '[∙](bright-black) '
scan_timeout = 30
command_timeout = 500
add_newline = true

[palettes.dracula]
background = "#282a36"
foreground = "#f8f8f2"
comment = "#6272a4"
cyan = "#8be9fd"
green = "#50fa7b"
orange = "#ffb86c"
pink = "#ff79c6"
purple = "#bd93f9"
red = "#ff5555"
yellow = "#f1fa8c"

palette = "dracula"

# --- Core Modules ---

[character]
format = '$symbol '
success_symbol = "[[♥](green) ❯](green)"
error_symbol = "[❯](red)"
vimcmd_symbol = "[❮](green)"
vimcmd_visual_symbol = "[❮](yellow)"
vimcmd_replace_symbol = "[❮](purple)"
vimcmd_replace_one_symbol = "[❮](purple)"

[directory]
truncation_length = 0
truncate_to_repo = false
use_logical_path = true
format = '[:$path]($style)[$read_only]($read_only_style) '
repo_root_format = '[:$repo_root$path]($style)[$read_only]($read_only_style) '
style = "bold purple"
read_only = " 󰌾"
read_only_style = "red"
home_symbol = "~"

[cmd_duration]
min_time = 2000
format = 'took [󱎫 $duration]($style) '
style = "yellow bold"
show_notifications = true
min_time_to_notify = 45000

[jobs]
threshold = 1
format = '[$symbol$number]($style) '
symbol = "󰔛 "
style = "bold cyan"

# --- Git Modules ---

[git_branch]
format = 'on [$symbol$branch(:$remote_branch)]($style) '
symbol = " "
style = "bold pink"

[git_status]
format = '([\[$all_status$ahead_behind\]]($style)) '
style = 'red bold'
stashed = '[󰏗 ${count}](blue) '
modified = '[󰏫 ${count}](yellow) '
untracked = '[󰇘 ${count}](magenta) '
staged = '[󰐗 ${count}](green) '
deleted = '[󰆴 ${count}](red) '
renamed = '[󰁕 ${count}](cyan) '
conflicted = '[󰞇 ${count}](bright-red) '
ahead = '󰶣 ${count} '
behind = '󰶡 ${count} '
diverged = '󰹹 '
up_to_date = ''

[git_metrics]
added_style = "bold green"
deleted_style = "bold red"
only_nonzero_diffs = true
format = '([+$added]($added_style) )([-$deleted]($deleted_style) )'
disabled = false

# --- Language & Tool Modules (Optimized with Icons) ---

[nix_shell]
format = 'via [ $state( \($name\))]($style) '
style = "bold cyan"
impure_msg = "impure"
pure_msg = "pure"

[python]
format = 'via [${symbol}${pyenv_prefix}(${version} )(\($virtualenv\) )]($style)'
symbol = " "
style = "yellow bold"

[rust]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold red"

[nodejs]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold green"

[golang]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold cyan"

[lua]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold cyan"

[c]
format = 'via [$symbol($version(-$name) )]($style)'
symbol = " "
style = "bold blue"

[julia]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold purple"

[zig]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold yellow"

[java]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold red"

[elixir]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold purple"

[crystal]
format = 'via [$symbol($version )]($style)'
symbol = " "
style = "bold red"

[docker_context]
format = 'via [$symbol$context]($style) '
symbol = " "
style = "cyan bold"

[aws]
format = 'on [$symbol($profile )(\($region\) )]($style)'
symbol = "  "
style = "bold orange"

[azure]
format = 'on [$symbol($subscription)]($style) '
symbol = "󰠅  "
style = "bold blue"

[terraform]
format = 'via [$symbol$workspace]($style) '
symbol = "󱁢 "
style = "bold 105"

[package]
format = 'is [$symbol$version]($style) '
symbol = "󰏗 "
style = "bold 208"

# --- System Modules ---

[os]
format = '[$symbol]($style)'
style = "bold white"
disabled = false

[os.symbols]
NixOS = " "
Linux = " "
Macos = " "

[hostname]
ssh_only = false
format = '[@$hostname]($style)'
style = "bold green"

[username]
show_always = true
format = '[$user]($style)'
style_user = "bold yellow"
style_root = "bold red"

[battery]
full_symbol = "󰁹 "
charging_symbol = "󰂄 "
discharging_symbol = "󰂃 "
format = '[$symbol$percentage]($style) '

[memory_usage]
threshold = 0
format = '[ram:$ram/$ram_total | swap:$swap/$swap_total]($style) '
style = "white bold dimmed"
symbol = ""
disabled = true

[container]
format = '[$symbol \[$name\]]($style) '
symbol = "󰏖 "
style = "red bold dimmed"
